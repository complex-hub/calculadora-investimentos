<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Compare rendimentos de investimentos de renda fixa brasileiros (CDB, LCA, LCI, Tesouro Direto)">
  <title>Comparador de Investimentos</title>
  <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ðŸ“ˆ</text></svg>">
  <script type="module" crossorigin src="/calculadora-investimentos/assets/index-BJBmquFI.js"></script>
  <link rel="stylesheet" crossorigin href="/calculadora-investimentos/assets/index-35aUipmZ.css">
</head>
<body>
  <div class="app-container">
    
    <!-- Left Panel: Form + List -->
    <aside class="sidebar">
      
      <!-- Global Rates Panel -->
      <section class="rates-panel">
        <div class="rates-header">
          <h2>Taxas Globais</h2>
          <div class="rates-header-actions">
            <button 
              type="button" 
              id="theme-toggle-btn" 
              class="btn-icon" 
              title="Alternar tema"
            >
              ðŸŒ™
            </button>
            <button 
              type="button" 
              id="refresh-rates-btn" 
              class="btn-icon" 
              title="Atualizar taxas do Banco Central"
              style="display: none;"
            >
              ðŸ”„
            </button>
          </div>
        </div>
        <div class="rates-grid">
          <label>
            <span>CDI (% a.a.)</span>
            <input type="text" id="rate-cdi" inputmode="decimal" placeholder="10,65">
          </label>
          <label>
            <span>IPCA (% a.a.)</span>
            <input type="text" id="rate-ipca" inputmode="decimal" placeholder="4,50">
          </label>
          <label>
            <span>SELIC (% a.a.)</span>
            <input type="text" id="rate-selic" inputmode="decimal" placeholder="10,75">
          </label>
        </div>
        <p class="rates-status" id="rates-status">Carregando taxas...</p>
      </section>

      <hr class="divider">

      <!-- Investment Form -->
      <section class="investment-form">
        <h2>Adicionar Investimento</h2>
        <form id="investment-form">
          
          <label>
            <span>Nome do investimento</span>
            <input 
              type="text" 
              id="investment-name" 
              placeholder="Ex: CDB Banco XYZ"
              required
            >
          </label>

          <label>
            <span>Tipo de rendimento</span>
            <select id="investment-type" required>
              <option value="cdi-percent">X% do CDI</option>
              <option value="ipca-plus">IPCA + X% a.a.</option>
              <option value="cdi-plus">CDI + X% a.a.</option>
              <option value="prefixed">X% a.a. (PrÃ©-fixado)</option>
              <option value="selic-plus">SELIC + X% a.a.</option>
            </select>
          </label>

          <label>
            <span id="rate-label">Percentual do CDI (%)</span>
            <input 
              type="text" 
              id="investment-rate" 
              inputmode="decimal" 
              placeholder="Ex: 110"
              required
            >
          </label>

          <!-- Only visible for cdi-percent type -->
          <div class="form-group" id="tax-toggle-group">
            <label class="checkbox-label">
              <input type="checkbox" id="investment-taxed" checked>
              <span>Incide Imposto de Renda</span>
            </label>
            <p class="form-hint">Desmarque para LCA/LCI (isentos de IR)</p>
          </div>

          <label>
            <span>Data de vencimento</span>
            <input type="date" id="investment-due-date">
          </label>

          <label class="checkbox-label">
            <input type="checkbox" id="investment-no-due-date">
            <span>Sem vencimento definido</span>
          </label>

          <div class="form-actions">
            <button type="submit" class="btn-primary" id="form-submit-btn">
              Adicionar ao grÃ¡fico
            </button>
          </div>
        </form>
      </section>

      <hr class="divider">

      <!-- Investment List -->
      <section class="investment-list-section">
        <div class="investment-list-header">
          <h2>Investimentos Adicionados</h2>
          <div class="investment-list-actions">
            <button 
              type="button" 
              id="clear-all-btn" 
              class="btn-text" 
              title="Remover todos"
            >
              Limpar
            </button>
          </div>
        </div>
        <ul id="investment-list" class="investment-list">
          <!-- Dynamically populated -->
          <li class="investment-item-empty">
            Nenhum investimento adicionado ainda.
          </li>
        </ul>
      </section>

      <hr class="divider">

      <!-- Data Management -->
      <section class="data-management">
        <h2>Gerenciar Dados</h2>
        <div class="data-management-buttons">
          <button type="button" id="export-btn" class="btn-secondary">
            ðŸ“¥ Exportar
          </button>
          <button type="button" id="import-btn" class="btn-secondary">
            ðŸ“¤ Importar
          </button>
          <input 
            type="file" 
            id="import-input" 
            accept=".json" 
            style="display: none;"
          >
        </div>
      </section>

    </aside>

    <!-- Right Panel: Chart -->
    <main class="chart-area">
      <header class="chart-header">
        <h1>ComparaÃ§Ã£o de Rendimentos</h1>
        <div class="chart-controls">
          <label>
            <span>Data final:</span>
            <input type="date" id="chart-end-date">
          </label>
        </div>
      </header>
      
      <div class="chart-container">
        <div class="chart-wrapper">
          <canvas id="investment-chart"></canvas>
        </div>
        <div class="chart-placeholder">
          <p>ðŸ“Š</p>
          <p>Adicione investimentos para visualizar o grÃ¡fico de comparaÃ§Ã£o.</p>
        </div>
      </div>
      
      <footer class="chart-footer">
        <div class="chart-legend">
          <div class="chart-legend-item">
            <span class="chart-legend-line"></span>
            <span>MudanÃ§a de alÃ­quota IR</span>
          </div>
          <div class="chart-legend-item">
            <span>180d: 22,5%â†’20%</span>
          </div>
          <div class="chart-legend-item">
            <span>360d: 20%â†’17,5%</span>
          </div>
          <div class="chart-legend-item">
            <span>720d: 17,5%â†’15%</span>
          </div>
        </div>
        <p class="chart-disclaimer">
          * ProjeÃ§Ãµes baseadas nas taxas atuais. Rendimentos reais podem variar.
          Rendimentos lÃ­quidos (apÃ³s IR, quando aplicÃ¡vel).
        </p>
      </footer>
    </main>

  </div>

</body>
</html>